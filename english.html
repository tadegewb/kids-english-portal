<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Kids English Fun Portal - Safe Mode</title>
<style>
    body {
        margin: 0;
        font-family: Arial, sans-serif;
        display: flex;
        height: 100vh;
        overflow: hidden;
    }
    #sidebar {
        width: 320px;
        background-color: #ffefd5;
        padding: 20px;
        box-sizing: border-box;
        overflow-y: auto;
        border-right: 2px solid #ff4500;
    }
    #sidebar h2 {
        color: #ff4500;
        font-size: 1.5em;
        margin-top: 0;
        margin-bottom: 10px;
        text-align: center;
    }
    .section-title {
        font-weight: bold;
        margin-top: 15px;
        margin-bottom: 5px;
        font-size: 1.1em;
        color: #ff6347;
    }
    .playlist-button {
        display: block;
        width: 100%;
        padding: 10px;
        margin-bottom: 5px;
        background-color: #f4a460;
        color: white;
        border: none;
        border-radius: 5px;
        font-size: 0.95em;
        cursor: pointer;
        text-align: left;
        transition: background 0.3s;
    }
    .playlist-button:hover {
        background-color: #ff7f50;
    }
    #main-content {
        flex: 1;
        background-color: #f0f8ff;
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
    }
    #player {
        width: 100%;
        height: 100%;
        pointer-events: auto; /* allow clicks only on player */
    }
    #overlay {
        position: absolute;
        top: 0; left: 0;
        width: 100%;
        height: 100%;
        z-index: 5;
        pointer-events: none; /* disables accidental clicks outside player */
    }
    #unmute-btn {
        position: absolute;
        bottom: 20px;
        right: 20px;
        padding: 10px 15px;
        font-size: 1em;
        background-color: #ff6347;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        z-index: 10;
    }
    #unmute-btn:hover {
        background-color: #ff4500;
    }
</style>
</head>
<body>

<div id="sidebar">
    <h2>Kids English Playlists</h2>

    <div class="section-title">Blippi</div>
    <button class="playlist-button" onclick="changePlaylist('PLzgk_uTg08P-2LCpM-FK-_Mhb7anv2fBY')">Blippi – Main</button>
    <button class="playlist-button" onclick="changePlaylist('PLzgk_uTg08P8yA3Vv50IzTNbr1fMCeQjH')">Blippi – Additional</button>
    <button class="playlist-button" onclick="changePlaylist('PLzgk_uTg08P9Y8gF2c5S6P0nkB_KtzyYI')">Blippi – More</button>
    <button class="playlist-button" onclick="changePlaylist('PLzgk_uTg08P80DI02tNYuU8wCz9371Idj')">Blippi – Videos</button>
    <button class="playlist-button" onclick="changePlaylist('PLzgk_uTg08P-KMFBboA9TAFbl1wOit2xp')">Blippi – Extra</button>

    <div class="section-title">Alphablocks / Fun English</div>
    <button class="playlist-button" onclick="changePlaylist('PLDuxenf8jCsQW1S5cq34YokcPVw6avVko')">Alphablocks 1</button>
    <button class="playlist-button" onclick="changePlaylist('PLDuxenf8jCsR75KmiXP3-DhDJUHy4oJeP')">Alphablocks 2</button>

    <div class="section-title">Other Kids Learning</div>
    <button class="playlist-button" onclick="changePlaylist('PLTYeDakuqA3_crtlnyYCYn14OpkxAIU7u')">Kids Fun 1</button>
    <button class="playlist-button" onclick="changePlaylist('PLTYeDakuqA3-BjjUtmR-FSI8tnk9_yPCJ')">Kids Fun 2</button>
</div>

<div id="main-content">
    <div id="player"></div>
    <div id="overlay"></div>
    <button id="unmute-btn" onclick="unmuteAndPlay()">Play with Sound</button>
</div>

<script src="https://www.youtube.com/iframe_api"></script>
<script>
let player;

function onYouTubeIframeAPIReady() {
    player = new YT.Player('player', {
        height: '100%',
        width: '100%',
        playerVars: {
            autoplay: 0,
            controls: 1,
            rel: 0,
            modestbranding: 1,
            loop: 1,
            disablekb: 1,
            fs: 1,          // allow fullscreen
            playlist: 'PLzgk_uTg08P-2LCpM-FK-_Mhb7anv2fBY'
        },
        events: {
            'onReady': (event) => event.target.mute()
        }
    });
}

// Change playlist on button click (Safari 16 compatible)
function changePlaylist(playlistId) {
    if(player) {
        player.loadPlaylist({list: playlistId, index:0, suggestedQuality: 'large'});
        player.playVideo();
    }
}

// Unmute sound with user gesture
function unmuteAndPlay() {
    if(player) {
        player.unMute();
        player.playVideo();
    }
}
</script>

</body>
</html>
